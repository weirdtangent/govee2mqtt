[pytest]
asyncio_mode = auto
addopts = --quiet --no-header --tb=short --disable-warnings --cov --cov-config=.coveragerc --cov-report=term-missing
testpaths = tests
markers =
    core: Core component and device-structure tests (build_light, component_types, sensors)
    mqtt: MQTT topic/discovery/state layer tests
    ha: Home Assistant integration and schema compliance
    runtime: Runtime, signal, and error handling behavior
    serialization: JSON and state-payload serialization safety
log_cli = false
filterwarnings =
    ignore::DeprecationWarning
